{"version":3,"file":"default-src_app_features_dashboard_components_agents_components_update-info-modal_update-info-731852.js","mappings":"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","sources":["./src/app/features/dashboard/components/agents/components/update-info-modal/update-info-modal.component.ts","./src/app/features/dashboard/components/agents/components/update-info-modal/update-info-modal.component.html","./src/app/features/premium-feature-modal/premium-feature-modal.component.ts","./src/app/features/premium-feature-modal/premium-feature-modal.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef, MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA } from '@angular/material/legacy-dialog';\r\nimport { Actions, ofType } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport * as actions from 'src/app/core/helpers/index.actions';\r\nimport { take } from 'rxjs/operators';\r\nimport { User } from 'src/app/core/models/queryModels';\r\nimport { Address } from 'ngx-google-places-autocomplete/objects/address';\r\n\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport * as snackBarConfigs from 'src/app/core/helpers/snackbar';\r\n\r\n@Component({\r\n    selector: 'app-update-info-modal',\r\n    templateUrl: './update-info-modal.component.html',\r\n    styleUrls: ['./update-info-modal.component.scss'],\r\n})\r\nexport class UpdateInfoModalComponent implements OnInit {\r\n    locationSet: boolean = false;\r\n    isUpdateLocationLoading: boolean = false;\r\n    userInfo: { location: string; phone: string } = { location: null, phone: null };\r\n\r\n    options: any = {\r\n        types: ['(regions)'],\r\n    };\r\n\r\n    constructor(\r\n        private dialogRef: MatDialogRef<UpdateInfoModalComponent>,\r\n        private actions$: Actions,\r\n        private store: Store,\r\n        @Inject(MAT_DIALOG_DATA) public data: { user: User },\r\n        private snackbar: MatSnackBar,\r\n    ) {}\r\n\r\n    ngOnInit(): void {}\r\n\r\n    handleBack() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    handleSelectLocation(address: Address) {\r\n        this.userInfo = { ...this.userInfo, location: address.formatted_address.split(',', 2).join(', ') };\r\n        this.locationSet = true;\r\n    }\r\n\r\n    handleUpdateInfo(): void {\r\n        this.isUpdateLocationLoading = true;\r\n\r\n        this.actions$.pipe(ofType(actions.authActions.ReqUpdateUserDetailsFail), take(1)).subscribe(() => {\r\n            this.isUpdateLocationLoading = false;\r\n            this.snackbar.open('Failed to update location', 'CLOSE', snackBarConfigs.errorConfig);\r\n        });\r\n\r\n        this.actions$.pipe(ofType(actions.authActions.ReqUpdateUserDetailsSuccess), take(1)).subscribe(() => {\r\n            this.isUpdateLocationLoading = false;\r\n            this.dialogRef.close();\r\n        });\r\n\r\n        this.store.dispatch(\r\n            actions.authActions.ReqUpdateUserDetails({\r\n                user: { ...this.data.user, ...this.userInfo, updatedAt: Date.now() },\r\n            }),\r\n        );\r\n    }\r\n}\r\n","<div class=\"g-app-dimensions l-container\">\r\n    <!-- #region Header -->\r\n\r\n    <div class=\"l-header\">\r\n        <img\r\n            class=\"l-back-icon\"\r\n            src=\"./assets/icons/back-arrow-icon.svg\"\r\n            alt=\"back-arrow-icon\"\r\n            (click)=\"handleBack()\"\r\n        />\r\n        <p class=\"g-text-h2-dark text-left ml-5\">Update Info</p>\r\n    </div>\r\n\r\n    <!-- #endregion -->\r\n    <!-- #region Content -->\r\n\r\n    <div class=\"l-content\">\r\n        <p>We noticed you don't have some information set. To find the best broker please update your info below.</p>\r\n        <div class=\"g-form-input-group mt-2\">\r\n            <label class=\"g-form-label\">Location</label>\r\n            <div class=\"g-text-input-container\">\r\n                <img class=\"g-input-text-icon\" src=\"./assets/icons/location-blue-icon.svg\" alt=\"\" />\r\n                <input\r\n                    class=\"g-input-text\"\r\n                    type=\"location\"\r\n                    name=\"location\"\r\n                    [(ngModel)]=\"userInfo.location\"\r\n                    ngx-gp-autocomplete\r\n                    [options]=\"options\"\r\n                    (onAddressChange)=\"handleSelectLocation($event)\"\r\n                    placeholder=\"location\"\r\n                    autocomplete=\"off\"\r\n                    required\r\n                />\r\n            </div>\r\n        </div>\r\n        <div class=\"g-form-input-group mt-2\">\r\n            <label class=\"g-form-label\">Mobile Number</label>\r\n            <div class=\"g-text-input-container\">\r\n                <img class=\"g-input-text-icon\" src=\"./assets/icons/phone-blue-icon.svg\" alt=\"\" />\r\n                <input\r\n                    class=\"g-input-text\"\r\n                    type=\"text\"\r\n                    placeholder=\"Cell\"\r\n                    [(ngModel)]=\"userInfo.phone\"\r\n                    #phone=\"ngModel\"\r\n                    name=\"phone\"\r\n                    pattern=\"^(\\+27|0)[6-8][0-9]{8}$\"\r\n                    required\r\n                />\r\n            </div>\r\n            <p *ngIf=\"phone.touched && !phone.valid\" class=\"g-input-validation-text-error pt-1 text-left\">\r\n                Enter a valid phone number.\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <!-- #region Buttons -->\r\n\r\n    <div class=\"mt-4\">\r\n        <button\r\n            class=\"mb-2\"\r\n            [ngClass]=\"{\r\n                'g-primary-button': locationSet && phone.valid,\r\n                'g-disabled-button': !locationSet || !phone.valid\r\n            }\"\r\n            [disabled]=\"!locationSet && !phone.valid\"\r\n            (click)=\"handleUpdateInfo()\"\r\n        >\r\n            <mat-progress-spinner\r\n                *ngIf=\"isUpdateLocationLoading; else showButtonText\"\r\n                class=\"g-mat-progress-spinner-white mx-auto\"\r\n                mode=\"indeterminate\"\r\n                [diameter]=\"30\"\r\n            ></mat-progress-spinner>\r\n            <ng-template #showButtonText>Update Info</ng-template>\r\n        </button>\r\n    </div>\r\n\r\n    <!-- #endregion -->\r\n\r\n    <!-- #endregion -->\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef, MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA } from '@angular/material/legacy-dialog';\r\nimport { Router } from '@angular/router';\r\nimport { VERIFICATION_ROUTE } from 'src/app/core/helpers/constants';\r\n\r\n@Component({\r\n    selector: 'app-premium-feature-modal',\r\n    templateUrl: './premium-feature-modal.component.html',\r\n    styleUrls: ['./premium-feature-modal.component.scss'],\r\n})\r\nexport class PremiumFeatureModalComponent implements OnInit {\r\n    constructor(\r\n        private dialogRef: MatDialogRef<PremiumFeatureModalComponent>,\r\n        private router: Router,\r\n        @Inject(MAT_DIALOG_DATA) public data: { featurePhrase: string; subscribeText: string },\r\n    ) {}\r\n\r\n    ngOnInit(): void {}\r\n\r\n    handleClose(): void {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    handleNavigateToSubscribeToBeVerified(): void {\r\n        this.router.navigate([VERIFICATION_ROUTE]);\r\n        this.handleClose();\r\n    }\r\n}\r\n","<div class=\"l-container\">\r\n    <img\r\n        class=\"l-close-icon\"\r\n        src=\"./assets/icons/close-icon-dark.svg\"\r\n        alt=\"Black cross / close icon\"\r\n        (click)=\"handleClose()\"\r\n    />\r\n    <h1 class=\"g-text-h1-dark mb-4\">This is a Premium Feature</h1>\r\n    <p class=\"g-text-p-dark mb-4\">{{ data.featurePhrase }}</p>\r\n    <p class=\"g-text-p-dark mb-4\">{{ data.subscribeText }}</p>\r\n    <button class=\"g-primary-button\" mat-flat-button (click)=\"handleNavigateToSubscribeToBeVerified()\">\r\n        Verify / Subscribe\r\n    </button>\r\n</div>\r\n"],"names":["MatLegacyDialogRef","MatDialogRef","MAT_LEGACY_DIALOG_DATA","MAT_DIALOG_DATA","Actions","ofType","Store","actions","take","MatSnackBar","snackBarConfigs","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","UpdateInfoModalComponent","constructor","dialogRef","actions$","store","data","snackbar","locationSet","isUpdateLocationLoading","userInfo","location","phone","options","types","ngOnInit","handleBack","close","handleSelectLocation","address","formatted_address","split","join","handleUpdateInfo","pipe","authActions","ReqUpdateUserDetailsFail","subscribe","open","errorConfig","ReqUpdateUserDetailsSuccess","dispatch","ReqUpdateUserDetails","user","updatedAt","Date","now","_","ɵɵdirectiveInject","i1","i2","i3","i4","_2","selectors","decls","vars","consts","template","UpdateInfoModalComponent_Template","rf","ctx","ɵɵlistener","UpdateInfoModalComponent_Template_img_click_2_listener","UpdateInfoModalComponent_Template_input_ngModelChange_13_listener","$event","UpdateInfoModalComponent_Template_input_onAddressChange_13_listener","UpdateInfoModalComponent_Template_input_ngModelChange_19_listener","ɵɵtemplate","UpdateInfoModalComponent_p_21_Template","UpdateInfoModalComponent_Template_button_click_23_listener","UpdateInfoModalComponent_mat_progress_spinner_24_Template","UpdateInfoModalComponent_ng_template_25_Template","ɵɵtemplateRefExtractor","ɵɵadvance","_r0","touched","valid","ɵɵpureFunction2","_c0","_r3","Router","VERIFICATION_ROUTE","PremiumFeatureModalComponent","router","handleClose","handleNavigateToSubscribeToBeVerified","navigate","PremiumFeatureModalComponent_Template","PremiumFeatureModalComponent_Template_img_click_1_listener","PremiumFeatureModalComponent_Template_button_click_8_listener","ɵɵtextInterpolate","featurePhrase","subscribeText"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}